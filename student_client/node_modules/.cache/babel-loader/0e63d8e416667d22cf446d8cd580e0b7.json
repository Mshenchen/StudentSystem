{"remainingRequest":"E:\\ForkSpace\\studentSystem\\student_client\\node_modules\\babel-loader\\lib\\index.js!E:\\ForkSpace\\studentSystem\\student_client\\src\\router\\index.js","dependencies":[{"path":"E:\\ForkSpace\\studentSystem\\student_client\\src\\router\\index.js","mtime":1720429166577},{"path":"E:\\ForkSpace\\studentSystem\\student_client\\babel.config.js","mtime":1720429158402},{"path":"E:\\ForkSpace\\studentSystem\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720429160364},{"path":"E:\\ForkSpace\\studentSystem\\student_client\\node_modules\\babel-loader\\lib\\index.js","mtime":1720429159701}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgbG9naW4gZnJvbSAnLi4vdmlld3MvbG9naW4vaW5kZXgnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CmNvbnN0IHJvdXRlcyA9IFt7CiAgLy8g6ZqP5L6/5a6a5LmJ55qE6aaW6aG1CiAgcGF0aDogJy8nLAogIG5hbWU6ICdpbmRleCcsCiAgY29tcG9uZW50OiBsb2dpbiwKICByZWRpcmVjdDogJy9sb2dpbicKfSwgewogIC8vIOeZu+mZhumhtQogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50OiBsb2dpbgp9XTsKY29uc3Qgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlcwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOwoKLyoNCiAgc2Vzc2lvbiDorr7nva7vvJoNCiAgICAxLiB0b2tlbg0KICAgIDIuIG5hbWUNCiAgICAzLiB0eXBlDQogICAgNC4gdGlkDQogICAgNS4gc2lkDQogICAgNS4g57O757uf5L+h5oGvIGluZm8NCiAqLwpyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICBjb25zb2xlLmxvZyhmcm9tLnBhdGggKyAnID09PT0+ICcgKyB0by5wYXRoKTsKICBpZiAodG8ubWV0YS5yZXF1aXJlQXV0aCkgewogICAgLy8g5Yik5pat6K+l6Lev55Sx5piv5ZCm6ZyA6KaB55m75b2V5p2D6ZmQCiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSA9PT0gJ3RydWUnKSB7CiAgICAgIC8vIOWIpOaWreacrOWcsOaYr+WQpuWtmOWcqHRva2VuCiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOacqueZu+W9lSzot7PovazliLDnmbvpmYbpobXpnaIKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIC8vIOS4jemcgOimgeeZu+mZhuadg+mZkOeahOmhtemdou+8jOWmguaenOW3sue7j+eZu+mZhu+8jOWImei3s+i9rOS4u+mhtemdogogICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIikgPT09ICd0cnVlJykgewogICAgICBjb25zb2xlLmxvZygn5qOA5p+l5oum5oiq5Zmo6YWN572u77yM5aSn5qaC546H5Ye6546w5ryP572R5LmL6bG8Jyk7CiAgICAgIGNvbnN0IHQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0eXBlIik7CiAgICAgIG5leHQoJy8nICsgdCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfQp9KTs="},{"version":3,"names":["Vue","VueRouter","login","use","routes","path","name","component","redirect","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","console","log","meta","requireAuth","sessionStorage","getItem","query","fullPath","t"],"sources":["E:/ForkSpace/studentSystem/student_client/src/router/index.js"],"sourcesContent":["import Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\nimport login from '../views/login/index';\r\n\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    // 随便定义的首页\r\n    path: '/',\r\n    name: 'index',\r\n    component: login,\r\n    redirect: '/login'\r\n  },\r\n  {\r\n    // 登陆页\r\n    path: '/login',\r\n    name: 'login',\r\n    component: login\r\n  },\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\nexport default router\r\n\r\n/*\r\n  session 设置：\r\n    1. token\r\n    2. name\r\n    3. type\r\n    4. tid\r\n    5. sid\r\n    5. 系统信息 info\r\n */\r\nrouter.beforeEach((to, from, next) => {\r\n  console.log(from.path + ' ====> ' + to.path)\r\n  if (to.meta.requireAuth) { // 判断该路由是否需要登录权限\r\n    if (sessionStorage.getItem(\"token\") === 'true') { // 判断本地是否存在token\r\n      next()\r\n    } else {\r\n      // 未登录,跳转到登陆页面\r\n      next({\r\n        path: '/login',\r\n        query: {redirect: to.fullPath}\r\n      })\r\n    }\r\n  } else {\r\n    // 不需要登陆权限的页面，如果已经登陆，则跳转主页面\r\n    if(sessionStorage.getItem(\"token\") === 'true'){\r\n      console.log('检查拦截器配置，大概率出现漏网之鱼')\r\n      const t = sessionStorage.getItem(\"type\")\r\n      next('/' + t);\r\n    }else{\r\n      next();\r\n    }\r\n  }\r\n});"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,sBAAsB;AAGxCF,GAAG,CAACG,GAAG,CAACF,SAAS,CAAC;AAElB,MAAMG,MAAM,GAAG,CACb;EACE;EACAC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEL,KAAK;EAChBM,QAAQ,EAAE;AACZ,CAAC,EACD;EACE;EACAH,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEL;AACb,CAAC,CACF;AAED,MAAMO,MAAM,GAAG,IAAIR,SAAS,CAAC;EAC3BS,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BV;AACF,CAAC,CAAC;AAEF,eAAeK,MAAM;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACZ,IAAI,GAAG,SAAS,GAAGW,EAAE,CAACX,IAAI,CAAC;EAC5C,IAAIW,EAAE,CAACK,IAAI,CAACC,WAAW,EAAE;IAAE;IACzB,IAAIC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,MAAM,EAAE;MAAE;MAChDN,IAAI,CAAC,CAAC;IACR,CAAC,MAAM;MACL;MACAA,IAAI,CAAC;QACHb,IAAI,EAAE,QAAQ;QACdoB,KAAK,EAAE;UAACjB,QAAQ,EAAEQ,EAAE,CAACU;QAAQ;MAC/B,CAAC,CAAC;IACJ;EACF,CAAC,MAAM;IACL;IACA,IAAGH,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,MAAM,EAAC;MAC5CL,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChC,MAAMO,CAAC,GAAGJ,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;MACxCN,IAAI,CAAC,GAAG,GAAGS,CAAC,CAAC;IACf,CAAC,MAAI;MACHT,IAAI,CAAC,CAAC;IACR;EACF;AACF,CAAC,CAAC","ignoreList":[]}]}