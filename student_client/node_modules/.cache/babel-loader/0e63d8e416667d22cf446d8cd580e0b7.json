{"remainingRequest":"E:\\ForkSpace\\studentSystem\\student_client\\node_modules\\babel-loader\\lib\\index.js!E:\\ForkSpace\\studentSystem\\student_client\\src\\router\\index.js","dependencies":[{"path":"E:\\ForkSpace\\studentSystem\\student_client\\src\\router\\index.js","mtime":1720428264847},{"path":"E:\\ForkSpace\\studentSystem\\student_client\\babel.config.js","mtime":1720410219569},{"path":"E:\\ForkSpace\\studentSystem\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720427632329},{"path":"E:\\ForkSpace\\studentSystem\\student_client\\node_modules\\babel-loader\\lib\\index.js","mtime":1720427633399}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgbG9naW4gZnJvbSAnLi4vdmlld3MvbG9naW4vaW5kZXgnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CmNvbnN0IHJvdXRlcyA9IFt7CiAgLy8g6ZqP5L6/5a6a5LmJ55qE6aaW6aG1CiAgcGF0aDogJy8nLAogIG5hbWU6ICdpbmRleCcsCiAgY29tcG9uZW50OiBsb2dpbiwKICByZWRpcmVjdDogJy9sb2dpbicKfSwgewogIC8vIOeZu+mZhumhtQogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50OiBsb2dpbgp9XTsKY29uc3Qgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlcwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOwoKLyoKICBzZXNzaW9uIOiuvue9ru+8mgogICAgMS4gdG9rZW4KICAgIDIuIG5hbWUKICAgIDMuIHR5cGUKICAgIDQuIHRpZAogICAgNS4gc2lkCiAgICA1LiDns7vnu5/kv6Hmga8gaW5mbwogKi8Kcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tLCBuZXh0KSA9PiB7CiAgY29uc29sZS5sb2coZnJvbS5wYXRoICsgJyA9PT09PiAnICsgdG8ucGF0aCk7CiAgaWYgKHRvLm1ldGEucmVxdWlyZUF1dGgpIHsKICAgIC8vIOWIpOaWreivpei3r+eUseaYr+WQpumcgOimgeeZu+W9leadg+mZkAogICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIikgPT09ICd0cnVlJykgewogICAgICAvLyDliKTmlq3mnKzlnLDmmK/lkKblrZjlnKh0b2tlbgogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICAvLyDmnKrnmbvlvZUs6Lez6L2s5Yiw55m76ZmG6aG16Z2iCiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvbG9naW4nLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0gZWxzZSB7CiAgICAvLyDkuI3pnIDopoHnmbvpmYbmnYPpmZDnmoTpobXpnaLvvIzlpoLmnpzlt7Lnu4/nmbvpmYbvvIzliJnot7PovazkuLvpobXpnaIKICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpID09PSAndHJ1ZScpIHsKICAgICAgY29uc29sZS5sb2coJ+ajgOafpeaLpuaIquWZqOmFjee9ru+8jOWkp+amgueOh+WHuueOsOa8j+e9keS5i+mxvCcpOwogICAgICBjb25zdCB0ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidHlwZSIpOwogICAgICBuZXh0KCcvJyArIHQpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0KfSk7"},{"version":3,"names":["Vue","VueRouter","login","use","routes","path","name","component","redirect","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","console","log","meta","requireAuth","sessionStorage","getItem","query","fullPath","t"],"sources":["E:/ForkSpace/studentSystem/student_client/src/router/index.js"],"sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport login from '../views/login/index';\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    // 随便定义的首页\n    path: '/',\n    name: 'index',\n    component: login,\n    redirect: '/login'\n  },\n  {\n    // 登陆页\n    path: '/login',\n    name: 'login',\n    component: login\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n\n/*\n  session 设置：\n    1. token\n    2. name\n    3. type\n    4. tid\n    5. sid\n    5. 系统信息 info\n */\nrouter.beforeEach((to, from, next) => {\n  console.log(from.path + ' ====> ' + to.path)\n  if (to.meta.requireAuth) { // 判断该路由是否需要登录权限\n    if (sessionStorage.getItem(\"token\") === 'true') { // 判断本地是否存在token\n      next()\n    } else {\n      // 未登录,跳转到登陆页面\n      next({\n        path: '/login',\n        query: {redirect: to.fullPath}\n      })\n    }\n  } else {\n    // 不需要登陆权限的页面，如果已经登陆，则跳转主页面\n    if(sessionStorage.getItem(\"token\") === 'true'){\n      console.log('检查拦截器配置，大概率出现漏网之鱼')\n      const t = sessionStorage.getItem(\"type\")\n      next('/' + t);\n    }else{\n      next();\n    }\n  }\n});"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,sBAAsB;AAGxCF,GAAG,CAACG,GAAG,CAACF,SAAS,CAAC;AAElB,MAAMG,MAAM,GAAG,CACb;EACE;EACAC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEL,KAAK;EAChBM,QAAQ,EAAE;AACZ,CAAC,EACD;EACE;EACAH,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEL;AACb,CAAC,CACF;AAED,MAAMO,MAAM,GAAG,IAAIR,SAAS,CAAC;EAC3BS,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BV;AACF,CAAC,CAAC;AAEF,eAAeK,MAAM;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACZ,IAAI,GAAG,SAAS,GAAGW,EAAE,CAACX,IAAI,CAAC;EAC5C,IAAIW,EAAE,CAACK,IAAI,CAACC,WAAW,EAAE;IAAE;IACzB,IAAIC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,MAAM,EAAE;MAAE;MAChDN,IAAI,CAAC,CAAC;IACR,CAAC,MAAM;MACL;MACAA,IAAI,CAAC;QACHb,IAAI,EAAE,QAAQ;QACdoB,KAAK,EAAE;UAACjB,QAAQ,EAAEQ,EAAE,CAACU;QAAQ;MAC/B,CAAC,CAAC;IACJ;EACF,CAAC,MAAM;IACL;IACA,IAAGH,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,MAAM,EAAC;MAC5CL,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChC,MAAMO,CAAC,GAAGJ,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;MACxCN,IAAI,CAAC,GAAG,GAAGS,CAAC,CAAC;IACf,CAAC,MAAI;MACHT,IAAI,CAAC,CAAC;IACR;EACF;AACF,CAAC,CAAC","ignoreList":[]}]}